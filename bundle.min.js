!function(e){var t={};function i(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=2)}([function(e,t,i){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=i(1),s=n(i(5)),o=9.8;class l{}t.GameObject=l;t.Flappy=class extends l{constructor(e){super(),this.transform=e,this.size=30,this.fallSpeed=0,this.jumping=!1,this.jumpDuration=150,this.maxFallSpeed=13,this.minFallSpeed=-5,this.initializeImage()}initializeImage(){this.image=new Image(this.size,this.size),this.image.src=s.default}jump(){this.timer&&clearTimeout(this.timer),this.timer=setTimeout(()=>{this.jumping=!1},this.jumpDuration),this.jumping=!0}update(){const{x:e,y:t}=this.transform;this.jumping?this.fallSpeed-=.075*o:this.fallSpeed+=.035*o,this.fallSpeed=Math.min(this.maxFallSpeed,this.fallSpeed),this.fallSpeed=Math.max(this.minFallSpeed,this.fallSpeed),this.transform={x:e,y:t+this.fallSpeed}}render(e){const{canvasCtx:t}=e,{x:i,y:n}=this.transform;t.save(),t.translate(i+30,n+25),t.rotate(this.fallSpeed*Math.PI/180),t.translate(-i-30,-n-25),t.drawImage(this.image,i,n,60,50),t.restore()}};t.Pipe=class extends l{constructor(e,t){super(),this.transform=e,this.gapSize=t,this.width=110,this.speed=3,this.direction="up",this.minGapTop=50,this.maxGapBtm=550}update(){const{x:e,y:t}=this.transform;this.transform.y>this.maxGapBtm-.5*this.gapSize&&(this.direction="up"),this.transform.y<this.minGapTop+.5*this.gapSize&&(this.direction="down"),this.transform={x:e-this.speed,y:"down"===this.direction?t+this.speed:t-this.speed}}render(e){const{canvasCtx:t,canvasEl:i}=e,{x:n,y:r}=this.transform;t.fillStyle="green",t.fillRect(n,0,this.width,r-.5*this.gapSize),t.fillRect(n,r+.5*this.gapSize,this.width,i.height)}};t.Level=class extends l{constructor(){super(...arguments),this.gameover=!1,this.levelWon=!1,this.score=0}update(e){const{canvasEl:t}=e,i=e.gameObjects[e.gameObjects.length-1],{transform:{x:n,y:s},size:o}=i;if(s<0-.5*o||s>t.height+.5*o)return void(this.gameover=!0);const l=e.gameObjects.slice(1,-1);let a,h=0;for(let e of l){const{transform:{x:i,y:l},width:c,gapSize:u}=e,p=.5*u,f=.25*o;if(r.rectCircleColliding(n,s,f,i,0,c,l-p))return void(this.gameover=!0);if(r.rectCircleColliding(n,s,f,i,l+p,c,t.height))return void(this.gameover=!0);i+c<n-f&&h++,a=e}if(a){const{transform:{x:e},width:t}=a;if(n>e+t+50)return void(this.levelWon=!0)}this.score=h}render(e){const{canvasCtx:t,canvasEl:i}=e;t.fillStyle="blue",t.fillRect(0,0,i.width,i.height)}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.rectCircleColliding=function(e,t,i,n,r,s,o){const l=Math.abs(e-n-s/2),a=Math.abs(t-r-o/2);if(l>s/2+i)return!1;if(a>o/2+i)return!1;if(l<=s/2)return!0;if(a<=o/2)return!0;const h=l-s/2,c=a-o/2;return h*h+c*c<=i*i},t.numInWords=function(e){const t=["","one ","two ","three ","four ","five ","six ","seven ","eight ","nine ","ten ","eleven ","twelve ","thirteen ","fourteen ","fifteen ","sixteen ","seventeen ","eighteen ","nineteen "],i=["","","twenty","thirty","forty","fifty","sixty","seventy","eighty","ninety"],n=["","thousand","million","billion","trillion"];let r="";for(let s=0;s<n.length;s++){let o=e%(100*Math.pow(1e3,s));0!==Math.floor(o/Math.pow(1e3,s))&&(r=Math.floor(o/Math.pow(1e3,s))<20?t[Math.floor(o/Math.pow(1e3,s))]+n[s]+" "+r:i[Math.floor(o/(10*Math.pow(1e3,s)))]+"-"+t[Math.floor(o/Math.pow(1e3,s))%10]+n[s]+" "+r),o=e%Math.pow(1e3,s+1),0!==Math.floor(o/(100*Math.pow(1e3,s)))&&(r=t[Math.floor(o/(100*Math.pow(1e3,s)))]+"hundred "+r)}return r.trim()},t.getRandomInt=function(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e+1))+e},t.EasingFunctions={easeInOutCirc:(e,t,i,n)=>(e/=n/2)<1?-i/2*(Math.sqrt(1-e*e)-1)+t:(e-=2,i/2*(Math.sqrt(1-e*e)+1)+t),easeOutCirc:function(e,t,i,n){return i*Math.sqrt(1-(e=e/n-1)*e)+t}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),(new(i(3).GameRunner)).start()},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=i(4),r=i(6),s=i(7),o=i(9);t.GameRunner=class{constructor(e=o.createApplication(1,0,0),t=new n.Menu){this.app=e,this.currentTrack=t,this.gameRunning=!1,this.idleTimeout=5e3,this.start=()=>(this.idleTimer=setTimeout(this.rollCredits,this.idleTimeout),this.mainloop(),this),this.stop=()=>(this.stopApp(),this),this.mainloop=()=>{this.trackTimer=requestAnimationFrame(this.mainloop),this.currentTrack?this.currentTrack.render(this.app.ctx):this.gameRunning||this.startApp()},this.startApp=()=>{const{highScore:e,levelNo:t,score:i}=this.app.ctx;this.idleTimer&&clearTimeout(this.idleTimer),this.trackTimer&&cancelAnimationFrame(this.trackTimer),this.app.stop(),this.app=o.createApplication(t,i,e),this.currentTrack=null,this.gameRunning=!0},this.stopApp=()=>{this.app.stop(),this.showSplash()},this.showSplash=()=>{this.trackTimer&&cancelAnimationFrame(this.trackTimer),this.idleTimer&&clearTimeout(this.idleTimer),this.idleTimer=setTimeout(this.rollCredits,this.idleTimeout),this.currentTrack=new n.Menu,this.gameRunning=!1,this.mainloop()},this.rollCredits=()=>{const e=new s.Credits;e.onDone(this.showSplash),this.currentTrack=e,this.gameRunning=!1,this.mainloop()},this.showHelp=()=>{this.trackTimer&&cancelAnimationFrame(this.trackTimer),this.idleTimer&&clearTimeout(this.idleTimer),this.gameRunning||(this.currentTrack=new r.Help,this.mainloop())},this.registerListeners=()=>{document.onkeyup=e=>{13===e.keyCode&&this.startApp(),27===e.keyCode&&this.stopApp(),72===e.keyCode&&this.showHelp()}},this.registerListeners()}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=i(0);t.Menu=class extends n.GameObject{update(){}render(e){const{canvasCtx:t,canvasEl:i}=e,{height:n,width:r}=i;t.fillStyle="black",t.fillRect(0,0,i.width,i.height),t.font="36px 'Press Start 2P'",t.fillStyle="white",t.textAlign="center",t.fillText("Flappy Bird",.5*r,.5*n),t.font="24px 'Press Start 2P'",t.fillText("press enter",.5*r,.6*n),t.font="22px 'Press Start 2P'",t.textAlign="left",t.fillText("[h] Help",4,n-26)}}},function(e,t,i){e.exports=i.p+"6e2ef75c704ad0d8428d9c2577d41a5b.png"},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=i(0);t.Help=class extends n.GameObject{update(){}render(e){const{canvasCtx:t,canvasEl:i}=e,{height:n,width:r}=i;t.fillStyle="black",t.fillRect(0,0,i.width,i.height),t.font="24px 'Press Start 2P'",t.fillStyle="white",t.textAlign="left",t.fillText("Jump - spacebar",.25*r,.5*n),t.fillText("Pause - p",.25*r,.5*n+28),t.font="22px 'Press Start 2P'",t.textAlign="left",t.fillText("[esc] Back",4,n-26)}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=i(8),r=i(0);class s extends r.GameObject{constructor(){super(...arguments),this.scrollTop=s.defaultScrolltop,this.scrollSpeed=1,this.scrollEnd=250,this.done=!1,this.emitter=new n.EventEmitter,this.timeout=null,this.onDone=e=>{this.emitter.once("done",e)},this.scrollCredits=()=>{this.scrollTop<this.scrollEnd&&!this.done?this.scheduleFinish():this.done||(this.scrollTop-=this.scrollSpeed)},this.update=()=>{},this.render=e=>{const{canvasCtx:t,canvasEl:i}=e,{height:n,width:r}=i;this.scrollCredits(),t.fillStyle="black",t.fillRect(0,0,i.width,i.height),t.font="32px 'Press Start 2P'",t.fillStyle="white",t.textAlign="center",t.fillText("Blatently copied by",.5*r,this.scrollTop),t.font="24px 'Press Start 2P'",t.fillText("Duroktar (Scott D.)",.5*r,this.scrollTop+28),t.font="32px 'Press Start 2P'",t.fillText("Art Blatently stolen by",.5*r,this.scrollTop+80),t.font="24px 'Press Start 2P'",t.fillText("Duroktar (Scott D.)",.5*r,this.scrollTop+108),t.font="22px 'Press Start 2P'",t.textAlign="left",t.fillText("[esc] - Back  [h] - Help",4,n-26)}}scheduleFinish(){this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(()=>{this.emitter.emit("done")},5e3),this.done=!0}}t.Credits=s,s.defaultScrolltop=700},function(e,t,i){"use strict";var n,r="object"==typeof Reflect?Reflect:null,s=r&&"function"==typeof r.apply?r.apply:function(e,t,i){return Function.prototype.apply.call(e,t,i)};n=r&&"function"==typeof r.ownKeys?r.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var o=Number.isNaN||function(e){return e!=e};function l(){l.init.call(this)}e.exports=l,l.EventEmitter=l,l.prototype._events=void 0,l.prototype._eventsCount=0,l.prototype._maxListeners=void 0;var a=10;function h(e){return void 0===e._maxListeners?l.defaultMaxListeners:e._maxListeners}function c(e,t,i,n){var r,s,o,l;if("function"!=typeof i)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof i);if(void 0===(s=e._events)?(s=e._events=Object.create(null),e._eventsCount=0):(void 0!==s.newListener&&(e.emit("newListener",t,i.listener?i.listener:i),s=e._events),o=s[t]),void 0===o)o=s[t]=i,++e._eventsCount;else if("function"==typeof o?o=s[t]=n?[i,o]:[o,i]:n?o.unshift(i):o.push(i),(r=h(e))>0&&o.length>r&&!o.warned){o.warned=!0;var a=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");a.name="MaxListenersExceededWarning",a.emitter=e,a.type=t,a.count=o.length,l=a,console&&console.warn&&console.warn(l)}return e}function u(){for(var e=[],t=0;t<arguments.length;t++)e.push(arguments[t]);this.fired||(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,s(this.listener,this.target,e))}function p(e,t,i){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:i},r=u.bind(n);return r.listener=i,n.wrapFn=r,r}function f(e,t,i){var n=e._events;if(void 0===n)return[];var r=n[t];return void 0===r?[]:"function"==typeof r?i?[r.listener||r]:[r]:i?function(e){for(var t=new Array(e.length),i=0;i<t.length;++i)t[i]=e[i].listener||e[i];return t}(r):m(r,r.length)}function d(e){var t=this._events;if(void 0!==t){var i=t[e];if("function"==typeof i)return 1;if(void 0!==i)return i.length}return 0}function m(e,t){for(var i=new Array(t),n=0;n<t;++n)i[n]=e[n];return i}Object.defineProperty(l,"defaultMaxListeners",{enumerable:!0,get:function(){return a},set:function(e){if("number"!=typeof e||e<0||o(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");a=e}}),l.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},l.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||o(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},l.prototype.getMaxListeners=function(){return h(this)},l.prototype.emit=function(e){for(var t=[],i=1;i<arguments.length;i++)t.push(arguments[i]);var n="error"===e,r=this._events;if(void 0!==r)n=n&&void 0===r.error;else if(!n)return!1;if(n){var o;if(t.length>0&&(o=t[0]),o instanceof Error)throw o;var l=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw l.context=o,l}var a=r[e];if(void 0===a)return!1;if("function"==typeof a)s(a,this,t);else{var h=a.length,c=m(a,h);for(i=0;i<h;++i)s(c[i],this,t)}return!0},l.prototype.addListener=function(e,t){return c(this,e,t,!1)},l.prototype.on=l.prototype.addListener,l.prototype.prependListener=function(e,t){return c(this,e,t,!0)},l.prototype.once=function(e,t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t);return this.on(e,p(this,e,t)),this},l.prototype.prependOnceListener=function(e,t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t);return this.prependListener(e,p(this,e,t)),this},l.prototype.removeListener=function(e,t){var i,n,r,s,o;if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t);if(void 0===(n=this._events))return this;if(void 0===(i=n[e]))return this;if(i===t||i.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete n[e],n.removeListener&&this.emit("removeListener",e,i.listener||t));else if("function"!=typeof i){for(r=-1,s=i.length-1;s>=0;s--)if(i[s]===t||i[s].listener===t){o=i[s].listener,r=s;break}if(r<0)return this;0===r?i.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(i,r),1===i.length&&(n[e]=i[0]),void 0!==n.removeListener&&this.emit("removeListener",e,o||t)}return this},l.prototype.off=l.prototype.removeListener,l.prototype.removeAllListeners=function(e){var t,i,n;if(void 0===(i=this._events))return this;if(void 0===i.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==i[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete i[e]),this;if(0===arguments.length){var r,s=Object.keys(i);for(n=0;n<s.length;++n)"removeListener"!==(r=s[n])&&this.removeAllListeners(r);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=i[e]))this.removeListener(e,t);else if(void 0!==t)for(n=t.length-1;n>=0;n--)this.removeListener(e,t[n]);return this},l.prototype.listeners=function(e){return f(this,e,!0)},l.prototype.rawListeners=function(e){return f(this,e,!1)},l.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):d.call(e,t)},l.prototype.listenerCount=d,l.prototype.eventNames=function(){return this._eventsCount>0?n(this._events):[]}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=i(10),r=i(0),s=i(13),o=i(1);t.createApplication=function(e,i,o,l=!0){const a=document.getElementById("canvas"),h=a.getContext("2d"),c=(new s.GameCtxBuilder).withCanvasEl(a).withCanvasCtx(h).withLevelNo(e).withScore(i).withHighScore(o).withGameObjects([new r.Level,...t.getPipes(e),t.getFlappy()]).build();return l?new n.Application(c).run():new n.Application(c)},t.getFlappy=()=>new r.Flappy({x:30,y:150}),t.getPipes=(e=1)=>{const t=Math.floor(1.7*e);let i=0;return new Array(t).fill(0).map(e=>(i+=o.getRandomInt(350,600),new r.Pipe({x:i,y:o.getRandomInt(150,450)},o.getRandomInt(140,290))))}},function(e,t,i){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=i(1),s=n(i(11));t.Application=class{constructor(e){this.ctx=e,this.run=()=>(this.gameloop(),this),this.stop=()=>{this.gameloopTimer&&(cancelAnimationFrame(this.gameloopTimer),this.gameloopTimer=void 0),document.onkeydown=null},this.registerListeners=()=>{const e=this.ctx.gameObjects.length-1,t=this.ctx.gameObjects[e];document.onkeydown=e=>{32===e.keyCode&&t.jump(),80===e.keyCode&&this.togglePause()}},this.pause=()=>{this.gameloopTimer&&cancelAnimationFrame(this.gameloopTimer),this.gameloopTimer=void 0,this.renderPausedText()},this.togglePause=()=>{this.gameloopTimer?this.pause():this.gameloop()},this.gameloop=()=>{this.gameloopTimer=requestAnimationFrame(this.gameloop),s.default.begin(),this.forEachGameObj("update"),this.forEachGameObj("render"),this.updateGameState(),s.default.end()},this.updateGameState=()=>{const e=this.ctx.gameObjects[0];this.updateHighScore(e),e.gameover?(this.stop(),this.renderBackground("red"),this.renderGameoverText(e),this.ctx.levelNo=1,this.ctx.score=0):e.levelWon?(this.stop(),this.renderLevelWonText(e),this.ctx.levelNo++,this.ctx.score=e.score+this.ctx.score):this.renderGameScore(e)},this.updateHighScore=e=>{const t=this.ctx.score+e.score;t>this.ctx.highScore&&(this.ctx.highScore=t)},this.forEachGameObj=e=>{for(let t of this.ctx.gameObjects)t[e](this.ctx)},this.renderBackground=e=>{const{canvasCtx:t,canvasEl:i}=this.ctx;t.fillStyle=e,t.fillRect(0,0,i.width,i.height)},this.renderLevelWonText=e=>{const{canvasCtx:t,canvasEl:i}=this.ctx,{height:n,width:s}=i,o=r.numInWords(this.ctx.levelNo);t.font="36px 'Press Start 2P'",t.fillStyle="white",t.textAlign="center",t.fillText(`Level ${o} complete!`,.5*s,.5*n),t.font="24px 'Press Start 2P'",t.fillText("press enter",.5*s,.6*n),this.renderTopScores(e,s)},this.renderGameoverText=e=>{const{canvasCtx:t,canvasEl:i}=this.ctx,{height:n,width:r}=i;t.font="36px 'Press Start 2P'",t.fillStyle="black",t.textAlign="center",t.fillText("Game Over",.5*r,.5*n),t.font="24px 'Press Start 2P'",t.fillText("press enter",.5*r,.6*n),this.renderTopScores(e,r)},this.renderGameScore=e=>{const{canvasCtx:t,canvasEl:i,score:n}=this.ctx,{width:r}=i;t.font="22px 'Press Start 2P'",t.fillStyle="white",t.textAlign="right",t.fillText(`Score: ${e.score+n}`,r-8,26)},this.renderPausedText=()=>{const{canvasCtx:e,canvasEl:t,highScore:i}=this.ctx,{height:n,width:r}=t;e.font="36px 'Press Start 2P'",e.fillStyle="white",e.textAlign="center",e.fillText("Paused",.5*r,.5*n),e.font="22px 'Press Start 2P'",e.textAlign="right",e.fillText(`High Score: ${i}`,r-8,52)},this.registerListeners()}renderTopScores(e,t){const{canvasCtx:i,highScore:n}=this.ctx,r=e.score+this.ctx.score;i.font="22px 'Press Start 2P'",i.textAlign="right",i.fillText(`Score: ${r}`,t-8,26),i.fillText(`High Score: ${n}`,t-8,52)}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(){const e=new(i(12));return e.showPanel(0),document.body.appendChild(e.dom),e}()},function(e,t,i){var n;e.exports=((n=function(){function e(e){return r.appendChild(e.dom),e}function t(e){for(var t=0;t<r.children.length;t++)r.children[t].style.display=t===e?"block":"none";i=e}var i=0,r=document.createElement("div");r.style.cssText="position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000",r.addEventListener("click",function(e){e.preventDefault(),t(++i%r.children.length)},!1);var s=(performance||Date).now(),o=s,l=0,a=e(new n.Panel("FPS","#0ff","#002")),h=e(new n.Panel("MS","#0f0","#020"));if(self.performance&&self.performance.memory)var c=e(new n.Panel("MB","#f08","#201"));return t(0),{REVISION:16,dom:r,addPanel:e,showPanel:t,begin:function(){s=(performance||Date).now()},end:function(){l++;var e=(performance||Date).now();if(h.update(e-s,200),e>o+1e3&&(a.update(1e3*l/(e-o),100),o=e,l=0,c)){var t=performance.memory;c.update(t.usedJSHeapSize/1048576,t.jsHeapSizeLimit/1048576)}return e},update:function(){s=this.end()},domElement:r,setMode:t}}).Panel=function(e,t,i){var n=1/0,r=0,s=Math.round,o=s(window.devicePixelRatio||1),l=80*o,a=48*o,h=3*o,c=2*o,u=3*o,p=15*o,f=74*o,d=30*o,m=document.createElement("canvas");m.width=l,m.height=a,m.style.cssText="width:80px;height:48px";var v=m.getContext("2d");return v.font="bold "+9*o+"px Helvetica,Arial,sans-serif",v.textBaseline="top",v.fillStyle=i,v.fillRect(0,0,l,a),v.fillStyle=t,v.fillText(e,h,c),v.fillRect(u,p,f,d),v.fillStyle=i,v.globalAlpha=.9,v.fillRect(u,p,f,d),{dom:m,update:function(a,g){n=Math.min(n,a),r=Math.max(r,a),v.fillStyle=i,v.globalAlpha=1,v.fillRect(0,0,l,p),v.fillStyle=t,v.fillText(s(a)+" "+e+" ("+s(n)+"-"+s(r)+")",h,c),v.drawImage(m,u+o,p,f-o,d,u,p,f-o,d),v.fillRect(u+f-o,p,o,d),v.fillStyle=i,v.globalAlpha=.9,v.fillRect(u+f-o,p,o,s((1-a/g)*d))}}},n)},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.GameCtxBuilder=class{constructor(){this.gameObjects=[]}build(){return{gameObjects:this.gameObjects,canvasCtx:this.canvasCtx,canvasEl:this.canvasEl,highScore:this.highScore,levelNo:this.levelNo,score:this.score}}withGameObjects(e){return this.gameObjects=e,this}withCanvasCtx(e){return this.canvasCtx=e,this}withHighScore(e){return this.highScore=e,this}withLevelNo(e){return this.levelNo=e,this}withScore(e){return this.score=e,this}withCanvasEl(e){return this.canvasEl=e,this}}}]);